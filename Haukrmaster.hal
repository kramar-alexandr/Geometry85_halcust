/* Hamasterukr.hal */remote function Boolean TaskExistsRemote(string);external inner procedure SetupColumWithKeypadWindow(var real,var real,var real,var real,var real,var real,var real);external inner function Integer POSFontSize();external inner function string 255 F_Label(string);external inner procedure SplitButton(LongInt,LongInt,LongInt,LongInt,LongInt,string,string,string,string,LongInt);external inner procedure POSKeyPad(LongInt,LongInt,LongInt,LongInt,LongInt,string,LongInt);external inner function string 255 GetChangePaswordLink();remote function UUID GetServerUUIDRemote();external inner function string 255 RemainingEinvoicesQuantity;external inner function Boolean DisplayAdditionalFields();remote function Integer MailAcceptanceStatus(LongInt);external inner function Boolean IsMoveToCloud(record SetupStatusBlock);external inner function Boolean IsMoveToCloudB();external outer function Boolean IsCloudControllerClient();external inner function string 255 GetCurrentStoreName();external inner function Boolean CompaniesInClientMode();external inner function Boolean ProductInDemoMode();remote function string 255 GetCompanyShortCode(string);external inner function Boolean AnyModuleAvailable();external inner function Boolean AcceptanceStatusColumnTest(string);external inner function Integer FlipCharCode(Integer,Integer);external inner procedure RateField(real,real,real,string,integer,string,boolean,real,real,string,boolean);external inner function boolean AddBicToMasterWindow(integer,var real,var real,real,real,real,real);external inner function Boolean IsIntEnabActive(var string,var string,var Boolean,var string);external inner function Boolean TouchScreenLookVertical();external inner procedure SysEClass_Tool(Integer,var real,var real);external inner procedure GTransEClass_Tool(Integer,var real,var real);external inner procedure GTrans2EClass_Tool(Integer,var real,var real,var real);external inner procedure GBaseEClass_Tool(Integer,var real,var real);external inner procedure TransGenVClass_Tool(Integer,var real,var real);external inner procedure GetCurUser(var record UserVc);external inner function string 60 UserDefined(string,string);external inner function string 60 RestPMCashModePayMode();external outer function string 255 MasterBannerURL();external inner procedure ItemStatusUserSettings(string,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean);external inner function Boolean AllowedInCountry(integer);external inner function Integer ResourceWindowResourceType();external inner function Boolean ResPlan_Rental();external inner function Boolean ResPlan_ProdOperations();external inner function Boolean ReadPOSButtons(string,string,longint,var string,var string,var string,var record POSButtonsVc);external inner function Boolean ReadNPTSWindowData(string,string,longint,string,string,Date,Time,var Boolean,var string,var string,var string,var record POSButtonsVc);external inner function Boolean TouchScreenLook();external inner procedure ExtractObj(string,var Integer,var string);external inner function Boolean IsSessionOpen(string,string,Date,Time);external inner procedure CntNPTSPaymentCurrencies(var Array string,var Array string,var Array Integer,var Array string,var Integer);remote procedure CntPOSCurrencies(var Array string,var Array Boolean,var Integer);external inner function Boolean CheckOffLineRecords(Boolean);external inner function string 60 TileUserDefined(string,Integer,var Integer);external inner function Boolean CUVATNrColumn;external inner function Integer GetInternetEnablerCountry();external inner function Integer CntVarietyCode(Integer,var Array string);external inner function Integer VarietyMatMax(Integer);external inner function Boolean UseTaxTemplatesforTaxCalc();remote procedure TablesViewWClassDo(record LocalMachineBlock,string,Array string,Array string,Array string,Array string,Array Integer,var Integer,var LongInt);external inner function string 20 GetMenuCode(string);external inner procedure DrawModifierButtons(var Integer);remote procedure ForkLiftQueueArray(string,string,var Array string,var Array string,var Array string,var Array string,var Array val,var Array Integer,var Array string,var Integer,Boolean,LongInt,LongInt,string);external inner function Boolean DisplayLoginButtons();external inner function Integer LoginShortcutsLines(Integer);external inner function Integer LoginShortcutsPos(Real,Integer);external inner procedure DefineTTRRowTypes(Integer);external inner function real ItemButtons(string,Integer);external inner procedure HWStoreWClassAddProducts(Integer);external inner function Boolean HasYodlee();external inner function Boolean HasAvalara();external inner function Boolean HasCharts();external inner function Boolean HasDetailedCharts();external inner function Boolean HasSiteMinder();external inner function Boolean HasNewRegistration();external inner function Boolean ActivityIsForAcceptanceOrFYI(record ActVc,Boolean,Boolean);// TravelLogexternal inner function Integer LoginShortcuts();external inner function Boolean TestConfigurationEnabler(string);remote function Integer CustomerSalesPaymentTermType(string);// POS Standaloneexternal inner function Boolean DefCustCodeSetup();// in-appsexternal inner function Boolean HasInAppsAvailable();external inner function Integer CountCountries();// Language functions ENG//external function Boolean DisplayLoginKeyPad_ENG();external function string 255 VATZoneEditFieldLabel_UKR(Integer);/*external function real VATZoneButtonsLabelsENG(real,real,real,real);external procedure LoginButtons2_ENG(Real,Real);external procedure FORMDEF_ENG();external function string 255 DemoMsgWClassTitle_ENG(Boolean,Boolean);external procedure TBEClassDef_ENG();external function string 255 VATZoneNameENG();external procedure TSERW_ENG();external procedure TSERWNT_ENG();external procedure TSERWTouch_ENG();external procedure TSERWTEST_ENG();external procedure INVFORM_ENG(Boolean);external procedure DisplayRecordDetails_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);*/external procedure DrawPOSInterface2_UKR(string,string,record POSButtonsVc,string,Integer,Integer);/*external procedure DisplayRecordDetailsCustDisplay_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);*/external procedure DisplayRecordDetailsGiftReceipt_UKR;/*external function string 255 ResDayWClassWindowTitle_ENG();external function string 255 ResMonWClassWindowTitle_ENG();external function string 255 RTMonWClassWindowTitle_ENG();external procedure SetupNightAuditWindowControls_ENG(Boolean);external procedure CURClassDefinitionENG();external function real DrawPaymentModesButtons_IV_ENG(real);external function real FunctionButtons_ENG(string);external procedure CreditCardWindowHeader_ENG(Boolean,Boolean,Real);external procedure CreditCardWindowButtons_ENG(string,string,real);external procedure CreditCardWindowInvoiceDetail_ENG(Real);external procedure CreditCardWindowDeliveryDetail_ENG(Real);external function real DrawPaymentModesButtons_ENG();external procedure DrawBarMenuTiles_ENG(string);external procedure DrawRestPMOtherPay_ENG();*/external procedure DisplayRecordDetailsRA_UKR2(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string,string);/*external procedure DrawModifierButtons2_ENG(var integer,var integer);external procedure OKCancel_ENG();external procedure DefineElearningURLCacheLClass_ENG();external procedure DefineElearningURLCacheDClass_ENG();external function real TravelLogDeductions_ENG(real,real);external procedure LoginButtons_ENG(Real);external procedure FORMDEF2_ENG();external procedure FORMDEF3_ENG();external procedure ARS2RClass_ENG();external procedure ALLVATRClass_ENG();*/// Language functions UKRexternal inner function Boolean DisplayLoginKeyPad_UKR();external inner function string 255 VATZoneEditFieldLabel_UKR(Integer);external inner function real VATZoneButtonsLabelsUKR(real,real,real,real);external inner procedure LoginButtons2_UKR(Real,Real);external inner procedure FORMDEF_UKR();external inner function string 255 DemoMsgWClassTitle_UKR(Boolean,Boolean);external inner procedure TBEClassDef_UKR();external inner function string 255 VATZoneNameUKR();external inner procedure TSERW_UKR();external inner procedure TSERWNT_UKR();external inner procedure TSERWTouch_UKR();external inner procedure TSERWTEST_UKR();external inner procedure INVFORM_UKR(Boolean);external inner procedure DisplayRecordDetails_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);external inner procedure DrawPOSInterface2_UKR(string,string,record POSButtonsVc,string,Integer,Integer);external inner procedure DisplayRecordDetailsCustDisplay_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);external inner function string 255 ResDayWClassWindowTitle_UKR();external inner function string 255 ResMonWClassWindowTitle_UKR();external inner function string 255 RTMonWClassWindowTitle_UKR();external inner procedure SetupNightAuditWindowControls_UKR(Boolean);external inner procedure CURClassDefinitionUKR();external inner function real DrawPaymentModesButtons_IV_UKR(real);external inner function real FunctionButtons_UKR(string);external inner procedure CreditCardWindowHeader_UKR(Boolean,Boolean,Real);external inner procedure CreditCardWindowButtons_UKR(string,string,real);external inner procedure CreditCardWindowInvoiceDetail_UKR(Real);external inner procedure CreditCardWindowDeliveryDetail_UKR(Real);external inner function real DrawPaymentModesButtons_UKR();external inner procedure DrawBarMenuTiles_UKR(string);external inner procedure DrawRestPMOtherPay_UKR();external inner procedure DisplayRecordDetailsRA_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);external inner procedure DrawModifierButtons2_UKR(var integer,var integer);external inner procedure OKCancel_UKR();external inner procedure DefineElearningURLCacheLClass_UKR();external inner procedure DefineElearningURLCacheDClass_UKR();external inner function real TravelLogDeductions_UKR(real,real);external inner procedure LoginButtons_UKR(Real);external inner procedure FORMDEF2_UKR();external inner procedure FORMDEF3_UKR();external inner procedure ARS2RClass_UKR();external inner procedure ALLVATRClass_UKR();external inner function Boolean IsStandardUnused();external inner function Boolean IsEnterprise();external inner function Boolean StandardHansa();external inner function Boolean HasATOL();external inner function Boolean HasAccPeriods();external inner function Boolean HasAccessGroups();external inner function Boolean HasAddFee();external inner function Boolean HasApprovals();external inner function Boolean HasCCPayments();external inner function Boolean HasAdvancedAccounting();external inner function Boolean HasAdvancedCRM();external inner function Boolean HasAdvancedPricing();external inner function Boolean HasAdvancedProduction();external inner function Boolean HasAdvancedStock();external inner function Boolean HasAged();external inner function Boolean HasBar();external inner function Boolean HasBase2();external inner function Boolean HasBranch();external inner function Boolean HasBuyBack();external inner function Boolean HasCategories();//external inner function Boolean HasConsigmentStock();external inner function Boolean HasCommunicator();external inner function Boolean HasConsignmentStock();external inner function Boolean HasContactClassification();external inner function Boolean HasContactRelations();external inner function Boolean HasConsolidation();external inner function Boolean HasCountryPerCustomer();external inner function Boolean HasCreditLimit();external inner function Boolean HasCustItem();external inner function Boolean HasCustomerSearchKey();external inner function Boolean HasCustomerStatusReport();external inner function Boolean HasDownpayments();external inner function Boolean HasDefineColumns();external inner function Boolean HasDeliveryAddress();external inner function Boolean HasDepartments();external inner function Boolean HasETaxDocuments();external inner function Boolean HasEInvoicing();external inner function Boolean HasEndorsedChecks();external inner function Boolean HasExtraNLComment();external inner function Boolean HasExtTax();external inner function Boolean HasFavouriteActTypes();external inner function Boolean HasFiscalPrinter();external inner function Boolean HasFormEditor();external inner function Boolean HasFreightAdvanced();external inner function Boolean HasHideCostPrice();external inner function Boolean HasHotelInterface();external inner function Boolean HasGuestUserDefined();external inner function Boolean HasJewelleryInterface();external inner function Boolean HasIncomeAndExpenseBook();external inner function Boolean HasIOUChecks();external inner function Boolean HasItemClassification();external inner function Boolean HasItemGroups();external inner function Boolean HasKPIs();external inner function Boolean HasLanguages();external inner function Boolean HasLimitedAccess();external inner function Boolean HasLocalMachines();external inner function Boolean HasLoyaltyCards();external inner function Boolean HasMailTags();external inner function Boolean HasMainPartner();external inner function Boolean HasMultiCurrency();external inner function Boolean HasMultiLocations();external inner function Boolean HasNLBudget();external inner function Boolean HasNLBudgetClass();external inner function Boolean HasObjects();external inner function Boolean HasInvoiceOfficialSerNr();external inner function Boolean HasOfficialSerNr();external inner function Boolean HasOrderClasses();external inner function Boolean HasPreferedOfficialSerNr();external inner function Boolean HasNumberSeries();external inner function Boolean HasPersons();external inner function Boolean HasPocketScreen();external inner function Boolean HasPositions();external inner function Boolean HasPrepayments();external inner function Boolean HasProjects();//very strange tagexternal inner function Boolean HasPriceLists();external inner function Boolean HasQualityControl();external inner function Boolean HasReconLevel2();external inner function Boolean HasReminderLevel();external inner function Boolean HasRemoteBackup();external inner function Boolean HasResourceDisplayGroups();external inner function Boolean HasRussianPrepayment();external inner function Boolean HasRetGoodsToSupp();external inner function Boolean HasReturnedGoods();external inner function Boolean HasRoomPackages();external inner function Boolean HasRoomTypes();external inner function Boolean HasRoute();external inner function Boolean HasSalesman();external inner function Boolean HasSalesmanBonus();external inner function Boolean HasSalesGroup();external inner function Boolean HasSecondQuantity();external inner function Boolean HasSerialNumbers();external inner function Boolean HasServerInCloud();external inner function Boolean HasSettlementDiscount();external inner function Boolean HasSimulations();external inner function Boolean hasSimAccruals();external inner function Boolean HasSkypeConnection();external inner function Boolean HasSIPServerConnection();external inner function Boolean HasStrAsSignFType();external inner function Boolean HasTouchScreenDevice();external inner function Boolean HasTaxMatrix();external inner function Boolean HasTestFeatures();external inner function Boolean HasMetroTestFeatures();external inner function Boolean HasWorkOrders();external inner function Boolean HasThrouLocation();external inner function Boolean HasTouchScreenLook();external inner function Boolean HasTREO();external inner function Boolean HasVarieties();external inner function Boolean HasVATZone();external inner function Boolean HasWithholdingTax();external inner function Boolean HasWithholdingTaxAdvanced();external inner function Boolean HasWorkOrders();external inner function Boolean HasWorkflowOverview();external inner function Boolean HasStandardCRM();external inner function Boolean HasStandardOrganizer();external inner function Boolean HasStandardCommunicator();external inner function Boolean HasEMail();external inner function Boolean HasExternalEMail();external inner function Boolean HasModMForms();external inner function Boolean HasModAT2();external inner function Boolean HasModBA();external inner function Boolean HasModCheck();external inner function Boolean HasModCL();external inner function Boolean HasModCO();external inner function Boolean HasModCons();external inner function Boolean HasModCourses();external inner function Boolean HasModCredMan();external inner function Boolean HasModCRM();external inner function Boolean HasModEDI();external inner function Boolean HasModExp();external inner function Boolean HasModHotel();external inner function Boolean HasModHRM();external inner function Boolean HasModIN();external inner function Boolean HasModIntStock();external inner function Boolean HasModNL();external inner function Boolean HasPaymentGateway();external inner function Boolean HasModPO();external inner function Boolean HasModPOS();external inner function Boolean HasModPL();external inner function Boolean HasModPOProg();external inner function Boolean HasModPP();external inner function Boolean HasModProd();external inner function Boolean HasModQT();external inner function Boolean HasModRent();external inner function Boolean HasModRest();external inner function Boolean HasModRsrt();external inner function Boolean HasModSO();external inner function Boolean HasModSL();external inner function Boolean HasModSVO();external inner function Boolean HasModTS();external inner function Boolean HasModWHM();external inner function Boolean HasModDI();external inner function Boolean UsePostOKButton();external inner function Boolean HasBankImport();external inner function Boolean HasPLIntegratedWithNL();external inner function Boolean HasSLIntegratedWithNL();external inner function Boolean HasIntegratedNL();external inner function Boolean HasConsStockMoveInvoices();external inner function Boolean HasSingleStartingModule();external inner function Boolean HasBoughtAdditionalModules();external inner function Boolean HasNavCentreBanner();external inner function Boolean HasClockInClockOut();external inner function Boolean HasResetPassword();external outer function Boolean IsASPVersion();external inner function Boolean FreightCompanyIsFedex(string);window MasterWClass:7  wtag("language","UKR"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")begin  real es,h,h2,hfirst,hs,v,v1,v2,voff,vs,ggn,hcount;  record UserVc Userr;  string 255 tstr;  record ModuleBlock Modb;  BlockLoad(Modb);    GetCurUser(Userr);  tstr = "Головне вікно";  if (HasEMail or HasExternalEMail) then begin    ggn = 5;   end else begin    ggn = 4;   end;  WindowBegin(tstr,MasterWClass,CGother,RcType); //!!  DynamicWindow;  UseView(RcVc);  if (GuiType==kGuiMetro) then begin    GroupedGridView;  end;  if (StandardHansa and HasInAppsAvailable) then begin    if (WindowStyle("MasterWClass")==kWindowStyleWindows8Desktop) then begin      v1 = 87;    end else begin    v1 = 65;    end;  end else begin    v1 = 0;  end;// Since this had C code adding buttons, I couldn't get this to work in any other way than adding it to the same place in C code.  if (WindowStyle("MasterWClass")==kWindowStyleWindows8Desktop) then begin    SetWRect(20,65,778,594+v1);    if (HasKPIs) then begin    ArchiveList(-354,32,-16,-120);    RecordList2(-365,-103,-16,-2,"KPIDefVc");    RlColKey(4,4,"КПЕ",OwnTitle,false,Sign); // should have "sorting"    CalculatedColumn(-215,80,"Поперед.","KPIRowPrevText",true);    CalculatedColumn(-130,200,"Поточн.","KPIRowCurText",true);    CalculatedColumnTL(-45,200,"Тренд","KPIRowTrend",M4Image,true);    HalPushButtonWithIcon(-15,-96-23,-3,-96+12,1083,"RecalculateKPIsClientNoArg","");    end else begin      ArchiveList(-354,32,-16,-2); // must be cn 0    end;    v = 5;    BlackFrame(-354,v+=5,-1,v+=20,"Ярлики",kFrameShadeNone);    h = 20;    v = 5;    es = 87;    vs = 3;    hfirst = h;    BlackFrame(h,v+=5,200,v+=20,"Головне меню",kFrameShadeNone);    AddBic(503,504,h,v,ToolCalendar,0,"Календар");    AddBic(501,502,h+=es,v,ToolMail,0,"Пошта");     AddBic(623,624,h+=es,v,ToolTodo,0,"Задачі");    AddBic(21423,21424,h+=es,v,ToolConferences,0,"Конференції");    h = hfirst; v = v + es + vs;    AddBic(635,735,h,v,ToolResources,0,"Ресурси");    if (HasModMForms) then begin    AddBic(739,739,h+=es,v,ToolForms,0,"SmartApps");    end;    if (UserCanAction("ViewDashboard",true)) then begin      if (Modb.Dashboard) then begin        AddBic(5092,5092,h+=es,v,ToolDashboard,0,"BI");      end;     end;    AddBic(741,742,h+=es,v,ToolAggregator,0,"Feed Reader");      if (BuildProductCode=="PAYYAPERP") then begin      AddBic(639,640,h+=es,v,ToolInAppPurchase,0,"Marketplace"); // Marketplace //!!TRANSLATE    end;    h = hfirst; v = v + es + vs;    BlackFrame(h,v+=20,200,v+=20,"Модуль: $",kFrameShadeNone);     AddBic(701+0,700,h,v,ToolRegs,0,"Регістри");    AddBic(737,738,h+=es,v,ToolSetup,0,"Настройки");    AddBic(731,734,h+=es,v,ToolReport,0,"Звіти");    AddBic(625,626,h+=es,v,ToolRoutines,0,"Рутини");  //    AddBic(718,750,h+=es,v,ToolDocument,0,"Forms");    h = hfirst;  v = v + es + vs;    AddBic(718,750,h,v,ToolDocument,0,"Форми");    AddBic(637,638,h+=es,v,ToolModule,0,"Модуль");    AddBic(632,730,h+=es,v,ToolOpen,0,  "Компанії");      BottomBar;    if (HasNavCentreBanner) then begin      WebPage(-365,-94,-1,-1,"","$MASTERBANNER"); //!!TRANSLATE    end;    goto LMasterWClass7_SpecMenu;  end;// Since this had C code adding buttons, I couldn't get this to work in any other way than adding it to the same place in C code.  if (WindowStyle("MasterWClass")==kWindowStyleRedmond) then begin    es = 6; hs = 40;    SetWRect(20,65,630+hs,479+11*4+15+v1);    ScrollBar(-24,16+8+1,-8,-19);    h = 48; v=40; h2 = 80; hfirst = h;    //if (WhiteLabel==false) then begin // disabled to make same logic as on Windows...    if (HasNavCentreBanner) then begin      WebPage(342,0,-1,94,"","$MASTERBANNER"); //!!TRANSLATE    end;    if (HasKPIs) then begin    RecordList2(343,-82,-16,-1,"KPIDefVc");    RlColKey(4,4,"КПЕ",OwnTitle,false,Sign); // should have "sorting"      CalculatedColumn(-215,80,"Попер.","KPIRowPrevText",true);      CalculatedColumn(-130,200,"Поточ.","KPIRowCurText",true);      CalculatedColumnTL(-45,200,"Тренд","KPIRowTrend",M4Image,true);     end;  end else begin    es = 6; hs = 40;    if (GuiType==kGuiCocoa or GuiType==kGuiMetro) then begin      SetWRect(20,65,630+hs,479+11*4+15+v1);      if (GuiType==kGuiMetro) then begin        GridViewGroup(ggn,"Ярлики",kGridViewGroupTypeArchive);        ggn = ggn - 1;      end;      if (HasNavCentreBanner) then begin        PersonalDesktopHeader(341,95,-1,118);        if (StandardHansa==false) then begin        ArchiveList(342,133,-16,-114);        end else begin          ArchiveList(342,133,-16,-1);        end;      end else begin        PersonalDesktopHeader(341,-5,-1,24);        ArchiveList(342,39,-16,-114);      end;      if (StandardHansa==false) then begin        if (GuiType==kGuiMetro) then begin          GridViewGroup(ggn,"Продуктивність",kGridViewGroupTypeKPI);      end;        if (HasKPIs) then begin        RecordList2(341,-96,-17,-1,"KPIDefVc");      RlColKey(4,4,"KPI",OwnTitle,false,Sign); // should have "sorting"        CalculatedColumn(-215,80,"Попер.","KPIRowPrevText",true);        CalculatedColumn(-130,200,"Поточ.","KPIRowCurText",true);        CalculatedColumnTL(-45,200,"Тренд","KPIRowTrend",M4Image,true); //        HalPushButtonWithIcon(-16,-106-20,-1,-106+10,607,"RecalculateKPIsClientNoArg","");      end;      end;    end else begin      if (WindowsMode!=0) then begin        SetWRect(20,65,630+hs,479+11*4+v1);        ScrollBar(-25,16+8+2,-9,-20);      end else begin        SetWRect(20,65,630+hs,479+11*3+v1);        ScrollBar(-25,16+8+2,-9,-20);      end;    end;    h = 48; v=40; h2 = 80; hfirst = h;    if (HasNavCentreBanner) then begin      if (IsWebClient) then begin        WebPage(-365,-128,-1,-35,"","$MASTERBANNER"); //!!TRANSLATE      end else begin        WebPage(342,0,-1,94,"","$MASTERBANNER"); //!!TRANSLATE      end;    end;    if (GuiType!=kGuiCocoa) then begin      StaticText(340+hs,19 + 70,"Особиста робоча панель",false);    end;  end;    ggn = 0;  if (GuiType==kGuiMetro) then begin //temporarily removed from Windows 8 Standard Accounts  , until calendar implemented    if (HasEMail or HasExternalEMail) then begin      GridViewGroup(ggn,"Особисті",kGridViewGroupTypeNormal);       ggn = ggn + 1;    end;  end;  if (GuiType==kGuiCocoa) then begin    BlackFrame(0,v-40,342,v+35+es*2+8,"Особисті",kFrameShadeLight);  end else begin    BlackFrame(15,v-30+4,312,v+35+es*2+8,"Особисті",kFrameShadeNone);  end;  v = v+es;    voff = 0;    if (GuiType==kGuiMetro) then begin //temporarily removed from Windows 8 Standard Accounts  , until calendar implemented    AddBic(503,504,h,v+voff,ToolCalendar,0,"Календар");    AddBic(623,624,h+=es,v,ToolTodo,0,"Задачі");    if (HasEMail or HasExternalEMail) then begin      AddBic(501,502,h,v+voff,ToolMail,0,"Пошта");//      AddBic(21423,21424,h+=h2,v+voff,ToolConferences,0,"Conferences");    end;    if (HasWorkflowOverview) then begin    if (AddBicToMasterWindow(ToolPipeline,h,v,es,vs,hfirst,hcount)) then begin      AddBic(1100,1101,h+=h2,v,ToolPipeline,0,"Огляд робочого процесу");        end;    end;  end else begin  AddBic(503,504,h,v+voff,ToolCalendar,0,"Календар");  AddBic(501,502,h+=h2,v+voff,ToolMail,0,"Пошта");//  AddBic(29017,29018,h+=h2,v+voff,ToolArchive,0,"Desktop");  AddBic(623,624,h+=h2,v+voff,ToolTodo,0,"Задачі");  AddBic(21423,21424,h+=h2,v+voff,ToolConferences,0,"Конференції");  end;  if (StandardHansa and HasInAppsAvailable) then begin    h = hfirst; v=v+70;    AddBic(639,640,h,v,ToolInAppPurchase,0,"Магазин")  end;  h = hfirst; v=v+78+2*es;  if (StandardHansa==false) then begin    AddBic(635,735,h,v+voff,ToolResources,0,"Ресурси");      if (HasModMForms) then begin      AddBic(739,739,h+=h2,v+voff,ToolForms,0,"SmartApps");    end;       if (UserCanAction("ViewDashboard",true)) then begin      if (Modb.Dashboard) then begin        AddBic(5092,5092,h+=h2,v+voff,ToolDashboard,0,"BI");      end;    end;    AddBic(741,742,h+=h2,v+voff,ToolAggregator,0,"Aggregator");    if (BuildProductCode=="PAYYAPERP") then begin      AddBic(639,640,h+=h2,v+voff,ToolInAppPurchase,0,"Marketplace"); // Marketplace //!!TRANSLATE    end;  end;  if (GuiType==kGuiMetro) then begin    GridViewGroup(ggn,"Компанія",kGridViewGroupTypeNormal);    ggn = ggn + 1;    BlackFrame(15,v-30+4,312,v+35+es*2+8,"Компанія",kFrameShadeNone);      if (HasEMail or HasExternalEMail) then begin      AddBic(21423,21424,h+=h2,v+voff,ToolConferences,0,"Конференції");    end;    AddBic(637,638,h+=h2,v+voff,ToolModule,0,  "Модуль:$");    end;  v = v+es;  h = hfirst; v=v+78+2*es;  if (GuiType==kGuiMetro) then begin    GridViewGroup(ggn,"Функції",kGridViewGroupTypeNormal);//    GridViewGroup(ggn,"Routines:$",kGridViewGroupTypeNormal);    ggn = ggn + 1;  end;  BlackFrame(0,v-50,312,v+35,"Навігація:$",kFrameShadeLight);    AddBic(701+0,700,h,v,ToolRegs,0,"Реєстри");    AddBic(737,738,h+=h2,v,ToolSetup,0,"Настройки");    AddBic(731,734,h+=h2,v,ToolReport,0,"Звіти");    AddBic(625,626,h+=h2,v,ToolRoutines,0,"Функції");    h = hfirst; v=v+78+2*es;  AddBic(718,750,h,v,ToolDocument,0,"Форми");    if (GuiType==kGuiMetro) then begin  end else begin    AddBic(637,638,h+=h2,v,ToolModule,0,  "Модулі");    end;  AddBic(632,730,h+=h2,v,ToolOpen,0,  "Компанії");  /*  add when working//  if (TestModule("")) then begin    h = hfirst; v=v+78+2*es;      AddBic(701+0,700,h,v,ToolPipeline,0,"Projects");      AddBic(623,624,h+=h2,v+voff,ToolTodo,0,"Issues");  //  end;*/LMasterWClass7_SpecMenu:;  if (HasMetroTestFeatures) then begin    SpecMenuGroup("Додати ярлик",kSpecMenuGroupTypeMenuInBottomBarLeft,4306);  end;  if (GuiType!=kGuiCocoa) then begin    SpecMenuItem("Приєднати файл",'a',mOpsMenuAttachFile);    SpecMenuItem("Зберегти файл",' ',mOpsMenuDownloadFile);    SpecMenuItem("Відкрити запис",' ',mOpsMenuOpenRecord);    SpecMenuItem("Редагувати текст посилання",' ',mOpsMenuEditLinkComment);    if (StandardHansa==false) then begin      SpecMenuItem("Редагувати Web посилання",' ',mEditWebLink);    end;//    SpecialMenu("Показати лінки",' ',5,"ShowToLinksMasterWsm"); //can we connect Master Control to smthing ?     SpecialMenu("(-",' ',6,"");    SpecialMenu("Створити email",' ',10,"MailFromArchiveWsm");    SpecialMenu("Створити нотатку",' ',7,"NoteFromMasterWsm");    SpecialMenu("Створити архів",' ',8,"ArchiveFromMasterWsm");    if (StandardHansa==false) then begin    SpecialMenu("Створити web nav посилання",' ',11,"TWebNavLinkFromArchiveWsm");    end;  end;  SpecialMenu("Змінити пароль",' ',9,"ChangePasswdMasterWsm");  if (nonblank(Userr.MinPLCode)) then begin                           SpecialMenu("Змінити пароль на знижку",' ',9,"ChangeDiscPasswdMasterWsm");  end;  SpecialMenu("(-",' ',10,"");  if (StandardHansa==false) and (BuildProductCode!="") then begin  SpecialMenu("Доступність для зовнішнього чату",' ',11,"ExtChatMasterWsm"); // This should be somewhere else...//  SpecialMenu("Shares",' ',12,"SharesInfoWsm"); // This should be somewhere else...  SpecMenuItem("Синхр.",' ',mOpsMenuSync);  end;  if (UserCanAction("AllowNoClockInOut",true)) then begin    if (HasClockInClockOut) then begin    SpecialMenu("Розпоч. роботу",' ',14,"ClockInMasterWsm");    SpecialMenu("Заверш. роботу",' ',15,"ClockOutMasterWsm");     end;  end;  SpecialMenu("Відкрити фільтр імпорту чату",' ',16,"OpenChatFilterWsm");  SpecialMenu("Відкрити фон",' ',9,"OpenBackgroundMasterWsm");  EndWindow;end;  SpecialMenu("Змінити пароль на облік часу",' ',9,"ChangeTSContrPasswdMasterWsm");// Edit ************************** Friday, 21 February 2014 10:19:43